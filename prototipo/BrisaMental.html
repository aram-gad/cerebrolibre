<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Activa tu mente</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100 min-h-screen flex flex-col">
  <header class="bg-indigo-600 text-white py-6 shadow-md">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h1 class="text-3xl md:text-4xl font-bold flex items-center justify-center gap-3">
        ğŸ§  Activa tu mente
      </h1>
      <p class="mt-2 text-lg md:text-xl">
        Ejercicios cognitivos suaves y variados para personas mayores.
      </p>
    </div>
  </header>

  <main class="flex-1 max-w-4xl mx-auto w-full px-4 py-6 md:py-8">

    <!-- SelecciÃ³n de categorÃ­a -->
    <section class="mb-6">
      <h2 class="text-xl md:text-2xl font-semibold mb-3">CategorÃ­as</h2>
      <div id="categoryButtons" class="grid grid-cols-2 md:grid-cols-4 gap-3">
        <button data-category="memoria" class="category-btn bg-white border-2 border-indigo-300 rounded-xl px-3 py-3 text-lg md:text-xl shadow hover:bg-indigo-50 transition">
          ğŸ“š Memoria
        </button>
        <button data-category="atencion" class="category-btn bg-white border-2 border-indigo-300 rounded-xl px-3 py-3 text-lg md:text-xl shadow hover:bg-indigo-50 transition">
          ğŸ‘€ AtenciÃ³n
        </button>
        <button data-category="logica" class="category-btn bg-white border-2 border-indigo-300 rounded-xl px-3 py-3 text-lg md:text-xl shadow hover:bg-indigo-50 transition">
          ğŸ§© LÃ³gica
        </button>
        <button data-category="sabiduria" class="category-btn bg-white border-2 border-indigo-300 rounded-xl px-3 py-3 text-lg md:text-xl shadow hover:bg-indigo-50 transition">
          ğŸŒ SabidurÃ­a
        </button>
      </div>
      <p id="selectedCategoryText" class="mt-3 text-lg md:text-xl text-slate-700">
        Elige una categorÃ­a para comenzar.
      </p>
    </section>

    <!-- Zona del ejercicio -->
    <section id="exerciseSection" class="bg-white rounded-2xl shadow-md p-4 md:p-6 mb-6 border border-slate-200">

      <!-- Progreso -->
      <div class="mb-4">
        <div class="text-lg md:text-xl text-slate-700 mb-1">
          <span id="progressText">Progreso: 0 / 10</span>
        </div>
        <div class="w-full bg-slate-200 rounded-full h-3">
          <div id="progressBar" class="bg-indigo-500 h-3 rounded-full" style="width: 0%;"></div>
        </div>
      </div>

      <!-- Enunciado -->
      <p id="questionText" class="text-lg md:text-xl text-slate-800">
        Elige una categorÃ­a para empezar.
      </p>

      <!-- Opciones -->
      <div id="optionsContainer" class="mt-4 flex flex-col gap-3"></div>

      <!-- Botones -->
      <div class="mt-4 flex flex-wrap gap-3">
        <button id="checkAnswerBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-xl text-lg md:text-xl shadow hover:bg-indigo-700 transition disabled:opacity-50">
          Comprobar respuesta
        </button>
        <button id="nextExerciseBtn" class="bg-sky-500 text-white px-4 py-2 rounded-xl text-lg md:text-xl shadow hover:bg-sky-600 transition disabled:opacity-50">
          Siguiente ejercicio
        </button>
        <button id="repeatExerciseBtn" class="bg-amber-400 text-white px-4 py-2 rounded-xl text-lg md:text-xl shadow hover:bg-amber-500 transition">
          Repetir ejercicio
        </button>
      </div>

      <!-- Feedback -->
      <div id="feedbackMessage" class="mt-3 text-lg md:text-xl font-semibold"></div>

    </section>

    <!-- Instrucciones -->
    <section class="bg-slate-50 border border-slate-200 rounded-2xl p-4 md:p-6 mb-8">
      <h2 class="text-xl md:text-2xl font-semibold mb-3">â„¹ï¸ CÃ³mo usar esta aplicaciÃ³n</h2>
      <ol class="list-decimal list-inside text-lg md:text-xl text-slate-800 space-y-2">
        <li>Elige una categorÃ­a.</li>
        <li>Lee el ejercicio con calma.</li>
        <li>Selecciona una respuesta y pulsa â€œComprobar respuestaâ€.</li>
        <li>Para volver a intentarlo, usa â€œRepetir ejercicioâ€.</li>
        <li>Para avanzar, pulsa â€œSiguiente ejercicioâ€.</li>
      </ol>
    </section>

  </main>

  <footer class="bg-slate-200 py-4">
    <div class="max-w-4xl mx-auto px-4 text-center text-slate-700 text-sm md:text-base">
      Activa tu mente Â· Ejercicios cognitivos para personas mayores
    </div>
  </footer>

  <script>
    /* ------------------------------
       EJERCICIOS (10 por categorÃ­a)
    ------------------------------ */

    const exercises = {
      memoria: [
        { q: "Recuerda: pan, leche, manzanas. Â¿QuÃ© NO estaba?", o: ["Pan","Leche","Manzanas","Naranjas"], c: 3 },
        { q: "Recuerda: 4, 7, 4. Â¿QuÃ© nÃºmero se repite?", o: ["4","7","47","Ninguno"], c: 0 },
        { q: "Recuerda: casa, Ã¡rbol, rÃ­o. Â¿CuÃ¡l era la segunda palabra?", o: ["Casa","Ãrbol","RÃ­o","Perro"], c: 1 },
        { q: "Recuerda: lunes, miÃ©rcoles, viernes. Â¿QuÃ© dÃ­a falta?", o: ["Martes","Jueves","SÃ¡bado","Domingo"], c: 1 },
        { q: "Recuerda: 12, 19, 23. Â¿CuÃ¡l fue el tercer nÃºmero?", o: ["12","19","23","31"], c: 2 },
        { q: "Recuerda: taza, reloj, lÃ¡mpara. Â¿CuÃ¡l era la primera palabra?", o: ["Taza","Reloj","LÃ¡mpara","Mesa"], c: 0 },
        { q: "Recuerda: rojo, azul, verde. Â¿CuÃ¡l NO estaba?", o: ["Rojo","Azul","Verde","Amarillo"], c: 3 },
        { q: "Recuerda: perro, gato, pez. Â¿CuÃ¡l era el segundo?", o: ["Perro","Gato","Pez","PÃ¡jaro"], c: 1 },
        { q: "Recuerda: 5, 8, 5, 2. Â¿QuÃ© nÃºmero se repite?", o: ["5","8","2","Ninguno"], c: 0 },
        { q: "Recuerda: mesa, silla, ventana. Â¿CuÃ¡l era la tercera palabra?", o: ["Mesa","Silla","Ventana","Puerta"], c: 2 }
      ],

      atencion: [
        { q: "Â¿CuÃ¡l palabra estÃ¡ escrita diferente?", o: ["casa","casa","cassa","casa"], c: 2 },
        { q: "Â¿CuÃ¡ntos cincos hay? 3 5 8 5 2", o: ["1","2","3","4"], c: 1 },
        { q: "Â¿CuÃ¡ntas veces aparece 'gato'? gato, perro, gato, pÃ¡jaro, gato", o: ["1","2","3","4"], c: 2 },
        { q: "Â¿QuÃ© nÃºmero es diferente? 24, 42, 34, 43", o: ["24","42","34","43"], c: 2 },
        { q: "Â¿QuÃ© letra estÃ¡ en cuarta posiciÃ³n? A B C D E", o: ["A","C","D","E"], c: 2 },
        { q: "Â¿QuÃ© nÃºmero se repite mÃ¡s? 2,4,2,6,2,8", o: ["2","4","6","8"], c: 0 },
        { q: "Â¿CuÃ¡l palabra NO encaja? perro, gato, mesa, pÃ¡jaro", o: ["Perro","Gato","Mesa","PÃ¡jaro"], c: 2 },
        { q: "Â¿CuÃ¡ntos nÃºmeros pares hay? 1,2,4,7,8", o: ["1","2","3","4"], c: 2 },
        { q: "Â¿QuÃ© nÃºmero falta? 1,2,3,?,5", o: ["2","3","4","6"], c: 2 },
        { q: "Â¿CuÃ¡l palabra estÃ¡ repetida? sol, luna, sol, estrella", o: ["Sol","Luna","Estrella","Ninguna"], c: 0 }
      ],

      logica: [
        { q: "Si hoy es lunes, Â¿quÃ© dÃ­a fue ayer?", o: ["Domingo","Martes","SÃ¡bado","Lunes"], c: 0 },
        { q: "Â¿CuÃ¡l es un nÃºmero par?", o: ["3","5","8","9"], c: 2 },
        { q: "MarÃ­a es mÃ¡s alta que Ana. Ana mÃ¡s alta que Lola. Â¿QuiÃ©n es la mÃ¡s baja?", o: ["MarÃ­a","Ana","Lola","No se sabe"], c: 2 },
        { q: "2 + 3 = 5, entonces 5 + 4 = ?", o: ["7","8","9","10"], c: 2 },
        { q: "Padre, madre y dos hijos. Â¿CuÃ¡ntas personas?", o: ["2","3","4","5"], c: 2 },
        { q: "Un tren sale a las 3 y llega a las 5. Â¿DuraciÃ³n?", o: ["1 hora","2 horas","3 horas","4 horas"], c: 1 },
        { q: "Si 10 es mayor que 7, Â¿cuÃ¡l es menor?", o: ["10","7","Iguales","Ninguno"], c: 1 },
        { q: "Â¿QuÃ© sigue? 2,4,6,8...", o: ["9","10","11","12"], c: 1 },
        { q: "Â¿CuÃ¡l NO es un animal?", o: ["Perro","Gato","Mesa","Pez"], c: 2 },
        { q: "Si Pedro tiene 3 manzanas y compra 2, Â¿cuÃ¡ntas tiene?", o: ["3","4","5","6"], c: 2 }
      ],

      sabiduria: [
        { q: "Â¿En quÃ© paÃ­s estÃ¡ Madrid?", o: ["Francia","Italia","EspaÃ±a","Portugal"], c: 2 },
        { q: "Â¿CuÃ¡l es un instrumento musical?", o: ["Silla","Mesa","Guitarra","Ventana"], c: 2 },
        { q: "Â¿QuÃ© ocÃ©ano estÃ¡ al oeste de EspaÃ±a?", o: ["PacÃ­fico","Ãndico","AtlÃ¡ntico","Ãrtico"], c: 2 },
        { q: "Â¿QuiÃ©n fue Picasso?", o: ["Pintor","MÃ©dico","Piloto","Cantante"], c: 0 },
        { q: "Â¿En quÃ© continente estÃ¡ Argentina?", o: ["Europa","AmÃ©rica del Sur","Ãfrica","Asia"], c: 1 },
        { q: "Â¿QuiÃ©n escribiÃ³ Don Quijote?", o: ["Shakespeare","Cervantes","Goethe","TolstÃ³i"], c: 1 },
        { q: "Â¿CuÃ¡l es un planeta?", o: ["Sol","Luna","Marte","Estrella"], c: 2 },
        { q: "Â¿QuÃ© fruta es amarilla?", o: ["Manzana","PlÃ¡tano","Uva","Fresa"], c: 1 },
        { q: "Â¿QuÃ© animal ladra?", o: ["Gato","Perro","PÃ¡jaro","Pez"], c: 1 },
        { q: "Â¿QuÃ© se usa para escribir?", o: ["Tenedor","LÃ¡piz","Plato","Vaso"], c: 1 }
      ]
    };

    /* ------------------------------
       LÃ“GICA DE LA APP
    ------------------------------ */

    let currentCategory = null;
    let currentIndex = 0;
    let selectedOption = null;
    let locked = false;

    const categoryButtons = document.querySelectorAll(".category-btn");
    const selectedCategoryText = document.getElementById("selectedCategoryText");
    const questionText = document.getElementById("questionText");
    const optionsContainer = document.getElementById("optionsContainer");
    const checkAnswerBtn = document.getElementById("checkAnswerBtn");
    const nextExerciseBtn = document.getElementById("nextExerciseBtn");
    const repeatExerciseBtn = document.getElementById("repeatExerciseBtn");
    const feedbackMessage = document.getElementById("feedbackMessage");
    const progressText = document.getElementById("progressText");
    const progressBar = document.getElementById("progressBar");

    function updateProgress() {
      progressText.textContent = `Progreso: ${currentIndex + 1} / 10`;
      progressBar.style.width = `${((currentIndex + 1) / 10) * 100}%`;
    }

    function loadExercise() {
      locked = false;
      selectedOption = null;
      feedbackMessage.textContent = "";

      const list = exercises[currentCategory];
      const exercise = list[currentIndex];

      questionText.textContent = exercise.q;

      optionsContainer.innerHTML = "";
      exercise.o.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.className = "option-btn w-full text-left bg-slate-100 border-2 border-slate-300 rounded-xl px-3 py-2 text-lg md:text-xl hover:bg-slate-200 transition";
        btn.addEventListener("click", () => {
          if (locked) return;
          selectedOption = i;
          document.querySelectorAll(".option-btn").forEach(b => {
            b.classList.remove("bg-indigo-100", "border-indigo-500");
          });
          btn.classList.add("bg-indigo-100", "border-indigo-500");
        });
        optionsContainer.appendChild(btn);
      });

      updateProgress();
    }

    categoryButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        currentCategory = btn.dataset.category;
        selectedCategoryText.textContent = `CategorÃ­a seleccionada: ${btn.textContent}`;
        currentIndex = 0;
        loadExercise();
      });
    });

    checkAnswerBtn.addEventListener("click", () => {
      if (selectedOption === null) {
        feedbackMessage.textContent = "Selecciona una respuesta.";
        feedbackMessage.className = "mt-3 text-lg md:text-xl font-semibold text-amber-600";
        return;
      }

      const correct = exercises[currentCategory][currentIndex].c;

      if (selectedOption === correct) {
        feedbackMessage.textContent = "Â¡Correcto! Muy bien.";
        feedbackMessage.className = "mt-3 text-lg md:text-xl font-semibold text-green-600";
      } else {
        feedbackMessage.textContent = "No es correcto. Puedes intentarlo de nuevo.";
        feedbackMessage.className = "mt-3 text-lg md:text-xl font-semibold text-red-600";
      }

      locked = true;
    });

    nextExerciseBtn.addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % 10;
      loadExercise();
    });

    repeatExerciseBtn.addEventListener("click", () => {
      loadExercise();
    });

  </script>
</body>
</html>